{% extends 'layouts/default/page.html' %}
{% load bootstrap4 %}
{% load i18n %}
{% load avatar_tags %}
{% load forum_tags %}
{% load flag_tags %}
{% load humanize %}
{% block content %}


<div id="list" style="width: 100% ">
    {% for post in posts %}

        <!-- Paid posts -->
        {% if not is_paid_user and post.is_paid %}
            <div class="post"
                        style=" padding:20px; box-shadow: 10px 10px 10px rgba(0,0,0,0.4); width: 100%; margin-bottom: 15px; background-color: white;">

               <div style="text-align: center">
                <h2>This post is for subscribers only</h2>
                    <a href="/accounts/subscription">
                    <button style="background: #2d82b5;
                            color: #fff;
                            border-radius: 10px 10px;
                            border: #2d82b5;
                            padding: 10px;">Subscribe</button>
                </a>
                </div>
            </div>

        <!-- Free Posts -->
        {% else %}
            <!-- Full Post Card -->
            <div class="post" style=" padding:35px; box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.103); width: 100%; margin-bottom: 15px; background-color: white;">

                <!-- Top Bar: Forum-title, topic-title -->
                <div style=" font-size: 12px; color: #41B3C5;">
                    <p>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-fill" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                            <path fill-rule="evenodd"
                                d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
                        </svg>
                        <a href="{{post.topic.forum.get_absolute_url }}">{{post.topic.forum.title}} </a>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-right-fill" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
                        </svg>
                        <a href="{{post.topic.get_absolute_url }}"> {{post.topic.title}} </a>
                    </p>
                </div>

                {% if user.is_authenticated %}
                    <div> {% render_flag_form post user %} </div>
                {% endif %}

                <!-- Post Title -->
                <div class="title" style="font-weight: bold; font-size: 18px; margin-bottom: 2%;">{{ post.title | safer }}</div>

                <!-- Post Creator -->
                <div style="padding: 5px; display: flex; flex-direction: row; margin-bottom: 10px;">
                    <div style="margin-right: 15px;">{% avatar post.creator 30 class="img-circle img-responsive"%} </div>
                    <div style="float: left; padding: 0">
                        <div style="font-weight: bold;">{{ post.creator }}</div>
                        <div style="font-size: 12px ; color:grey;">
                            <span class="date">{{ post.created | naturaltime}}</span>
                        </div>
                    </div>
                </div>

                <!-- Post Body -->
                <span style="display: inline-block; padding-left: inherit">
                    {% if post.is_flagged %}
                        <div style="padding: 50px 10px;">
                            <p style="color: silver; float: center;">This content has been flagged</p>
                        </div>
                    {% else %}
                        <div class="post-preview">
                            <div class="post-content" style="display: flex; flex-direction: column; padding: 10px;">
                                {% if post.body|length > 400 %}
                                    <div class="truncated-content">
                                        <span style="align-items: center;">{{ post.body|truncatechars:400 }}
                                            <button class="more-link" style="margin-right: 10px; border: none; margin-left: 10px;"> <b>More</b></button>
                                        </span>
                                    </div>
                                    <div class="full-content" style="display: none;">
                                        <span >{{ post.body }}
                                            <button class="less-link" style="margin-right: 10px; border: none; margin-left: 10px;"> <b>Less</b></button>
                                        </span>  
                                    </div>
                                {% else %}
                                    <div class="full-content">
                                        <span>{{ post.body | safer }}</span>
                                    </div>
                                {% endif %}
                            </div>
                        </div>  
                        <script>
                            $(document).ready(function() {
                                $('.more-link').click(function(e) {
                                    e.preventDefault();
                                    $(this).closest('.post-content').find('.truncated-content').hide();
                                    $(this).closest('.post-content').find('.full-content').show();
                                });
                                
                                $('.less-link').click(function(e) {
                                    e.preventDefault();
                                    $(this).closest('.post-content').find('.full-content').hide();
                                    $(this).closest('.post-content').find('.truncated-content').show();
                                });
                            });

                        </script>
                    {% endif %}

                    <!-- Tags Section -->
                    {% if post.tags %}
                        <div class="row">
                            <div class="col">
                                {%for tag in post.tags.all %}
                                    <span class="btn btn-sm" style="background-color: rgb(224, 230, 230); border-radius: 15px; padding: 5px 10px; margin-bottom: 20px;">{{tag.name}}</span>
                                {%endfor %}
                            </div>
                        </div>
                    {%endif%}
                    
                    <!-- Up-Down-Comments-Button section -->
                    {% if request.user == post.creator %}
                        <!-- Up-Down Button Group -->
                        <span style="display: inline-block; height: 35px; background-color: rgb(224, 230, 230); border-radius: 25px; padding: 5px 10px; margin-bottom: 20px;">
                            <span style=" margin-left: 10px;">
                                <svg width="1.5em" height="1.5em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 327.98 373.05"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 3</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M223,373.05H223q-36.53,0-73.06,0H122c-5.52,0-11,0-16.56,0-9.55,0-14.6-5.1-14.6-14.72q0-34,0-67.95V244.12c0-22.16,0-45.06.09-67.61-17.82.08-35.91.07-53.41.07H14.71a15.66,15.66,0,0,1-8.72-2,12.35,12.35,0,0,1-4.2-17,23.88,23.88,0,0,1,3.69-4.46Q79.18,79.32,152.91,5.54c1.16-1.16,2.35-2.15,3.51-3.11l1.44-1.21L159.27,0h8.27l1.22.76a43,43,0,0,1,7.56,6.45l.46.46q72.79,72.71,145.61,145.39c2.47,2.46,6.6,6.59,5.36,13-1.29,6.66-6.44,10.47-14.14,10.48q-25.65,0-51.3,0H244.36c-.87,0-1.74,0-2.6,0-1.45,0-2.92.07-4.43,0,0,.13,0,.26,0,.39v28.86q0,75.78,0,151.55c0,.28,0,.56,0,.84,0,2.64.08,6.26-2.52,9.66C231.33,372.46,226.69,373.05,223,373.05Zm-52.4-10q26.19,0,52.36,0h0c2.71,0,3.3-.49,3.83-1.19s.49-1.51.47-3.46c0-.33,0-.65,0-1q0-75.76,0-151.53V177c0-.29,0-.58,0-.87s0-.37,0-.56c-.44-2.86.14-5.21,1.74-6.91s3.91-2.43,6.86-2.14a48.94,48.94,0,0,0,5.59.07c.94,0,1.88,0,2.82,0h17.95q25.65,0,51.29,0c3.87,0,4.13-1.32,4.33-2.37s-.18-1.64-2.61-4.07Q242.51,87.46,169.71,14.74l-.46-.46A43.61,43.61,0,0,0,164.56,10H163l-.15.12c-1,.85-2,1.66-2.82,2.49Q86.25,86.38,12.56,160.2a15,15,0,0,0-2.2,2.55,2.34,2.34,0,0,0,.9,3.31,6.56,6.56,0,0,0,3.51.52H37.51c17.8,0,36.2,0,54.3-.08,1.49,0,4.59,0,6.85,2.25,2,2,2.26,4.8,2.25,6.69-.12,22.89-.11,46.17-.09,68.68v46.24q0,34,0,67.94c0,4.11.6,4.72,4.61,4.73h65.18Z"/><path class="cls-1" d="M223,373.05H223q-36.53,0-73.06,0H122c-5.52,0-11,0-16.56,0-9.55,0-14.6-5.1-14.6-14.72q0-34,0-67.95V244.12c0-22.16,0-45.06.09-67.61-17.82.08-35.91.07-53.41.07H14.71a15.66,15.66,0,0,1-8.72-2,12.35,12.35,0,0,1-4.2-17,23.88,23.88,0,0,1,3.69-4.46Q79.18,79.32,152.91,5.54c1.16-1.16,2.35-2.15,3.51-3.11l1.44-1.21L159.27,0h8.27l1.22.76a43,43,0,0,1,7.56,6.45l.46.46q72.79,72.71,145.61,145.39c2.47,2.46,6.6,6.59,5.36,13-1.29,6.66-6.44,10.47-14.14,10.48q-25.65,0-51.3,0H244.36c-.87,0-1.74,0-2.6,0-1.45,0-2.92.07-4.43,0,0,.13,0,.26,0,.39v28.86q0,75.78,0,151.55c0,.28,0,.56,0,.84,0,2.64.08,6.26-2.52,9.66C231.33,372.46,226.69,373.05,223,373.05Zm-52.4-10q26.19,0,52.36,0h0c2.71,0,3.3-.49,3.83-1.19s.49-1.51.47-3.46c0-.33,0-.65,0-1q0-75.76,0-151.53V177c0-.29,0-.58,0-.87s0-.37,0-.56c-.44-2.86.14-5.21,1.74-6.91s3.91-2.43,6.86-2.14a48.94,48.94,0,0,0,5.59.07c.94,0,1.88,0,2.82,0h17.95q25.65,0,51.29,0c3.87,0,4.13-1.32,4.33-2.37s-.18-1.64-2.61-4.07Q242.51,87.46,169.71,14.74l-.46-.46A43.61,43.61,0,0,0,164.56,10H163l-.15.12c-1,.85-2,1.66-2.82,2.49Q86.25,86.38,12.56,160.2a15,15,0,0,0-2.2,2.55,2.34,2.34,0,0,0,.9,3.31,6.56,6.56,0,0,0,3.51.52H37.51c17.8,0,36.2,0,54.3-.08,1.49,0,4.59,0,6.85,2.25,2,2,2.26,4.8,2.25,6.69-.12,22.89-.11,46.17-.09,68.68v46.24q0,34,0,67.94c0,4.11.6,4.72,4.61,4.73h65.18Z"/></g></g></svg> 
                            </span>
                            <span style="margin-left: 15px;">{{ post.vote_difference }}</span>
                            <span style=" margin-left: 15px; margin-right: 10px;">
                                <svg width="1.5em" height="1.5em"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 311.14 380.52"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 4</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M155.56,380.52c-4.34,0-8.68-2-12.74-6.09q-24.28-24.26-48.55-48.53Q50.14,281.79,6,237.68c-7.36-7.35-6.61-14.45-4.69-19.11S7.7,208.29,18,208.29h.13c14.27.07,28.78.05,42.82,0H74.49c5.31,0,6-.69,6-6.12V163.38c0-47,0-95.61-.08-143.41,0-9.83,3.81-16.23,11.71-19.58L93,0H218.91L220,.52c9.82,4.9,10.93,13.57,10.91,19.66-.16,46.7-.15,94.19-.13,140.11q0,20.52,0,41c0,6.4.59,7,7.07,7h14.85c13.26,0,27,0,40.45,0,9.83,0,14.38,5.35,16.5,9.88,1.77,3.79,3.55,11.35-4.44,19.34q-68.52,68.53-137.06,137C164.15,378.53,159.86,380.52,155.56,380.52ZM18,218.29c-5,0-6.55,2-7.42,4.09s-1.17,4.56,2.5,8.22q44.18,44.1,88.29,88.23l48.54,48.53c4.12,4.11,7.15,4.14,11.18.12q68.55-68.5,137.06-137c4.23-4.23,3-6.9,2.45-8-1-2.14-2.58-4.12-7.31-4.12h-.08c-13.51.06-27.23.05-40.51,0H237.83c-12,0-17.07-5.08-17.07-17q0-20.52,0-41c0-45.93,0-93.42.13-140.14,0-6-1.58-8.48-4.4-10.15H95.14c-3,1.49-4.76,3.88-4.74,10,.11,47.81.09,96.42.08,143.43V202.2c0,11-5.08,16.11-16,16.12H60.93c-14,0-28.58,0-42.87,0Z"/><path class="cls-1" d="M155.56,380.52c-4.34,0-8.68-2-12.74-6.09q-24.28-24.26-48.55-48.53Q50.14,281.79,6,237.68c-7.36-7.35-6.61-14.45-4.69-19.11S7.7,208.29,18,208.29h.13c14.27.07,28.78.05,42.82,0H74.49c5.31,0,6-.69,6-6.12V163.38c0-47,0-95.61-.08-143.41,0-9.83,3.81-16.23,11.71-19.58L93,0H218.91L220,.52c9.82,4.9,10.93,13.57,10.91,19.66-.16,46.7-.15,94.19-.13,140.11q0,20.52,0,41c0,6.4.59,7,7.07,7h14.85c13.26,0,27,0,40.45,0,9.83,0,14.38,5.35,16.5,9.88,1.77,3.79,3.55,11.35-4.44,19.34q-68.52,68.53-137.06,137C164.15,378.53,159.86,380.52,155.56,380.52ZM18,218.29c-5,0-6.55,2-7.42,4.09s-1.17,4.56,2.5,8.22q44.18,44.1,88.29,88.23l48.54,48.53c4.12,4.11,7.15,4.14,11.18.12q68.55-68.5,137.06-137c4.23-4.23,3-6.9,2.45-8-1-2.14-2.58-4.12-7.31-4.12h-.08c-13.51.06-27.23.05-40.51,0H237.83c-12,0-17.07-5.08-17.07-17q0-20.52,0-41c0-45.93,0-93.42.13-140.14,0-6-1.58-8.48-4.4-10.15H95.14c-3,1.49-4.76,3.88-4.74,10,.11,47.81.09,96.42.08,143.43V202.2c0,11-5.08,16.11-16,16.12H60.93c-14,0-28.58,0-42.87,0Z"/></g></g></svg>
                                <!-- <span>{{post.downvotes}}</span> -->
                            </span>
                        </span>

                        <!-- Comments -->
                        <span>
                            <a href="{{post.get_absolute_url}}" style="color: #41B3C5; margin-left: 25px;">
                                {{ post.get_comments.count }} comment{{ post.get_comments.count|pluralize }}
                            </a>
                        </span>

                        <!-- Delete Button -->
                        <span style="color: #41B3C5; margin-left: 20px;">
                            <svg class="delete-post" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash"
                                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                <path fill-rule="evenodd"
                                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                            </svg>
                        </span>
                    {% else %}
                        <span style="display: inline-block; height: 45px; background-color: rgb(224, 230, 230); border-radius: 25px; padding: 5px 10px; margin-bottom: 20px;">
                            <!-- Upvote Button -->
                            {% if request.user.id in post.upvoted_users %}
                                <button type="button" class="btn btn-info upvote" data-object_id={{post.id}} data-object_type="post">
                                    <svg width="1.5em" height="1.5em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 317.98 363.05"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 1</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M161.11,0a41.77,41.77,0,0,1,7.14,6.2L313.86,151.6c2.39,2.38,4.71,4.8,4,8.54-.83,4.29-4,6.42-9.24,6.43q-34.62,0-69.25,0c-3,0-5.93.22-8.87-.06s-3.57.87-3.18,3.39a15,15,0,0,1,0,2.12q0,90.21,0,180.41c0,2.56.27,5.16-1.48,7.46-2,2.67-4.74,3.17-7.84,3.16q-46.87,0-93.76,0-11.9,0-23.79,0c-6.76,0-9.6-2.86-9.6-9.73q0-46.95,0-93.92c0-29.65-.06-59.31.09-89,0-3.37-1-3.93-4.08-3.91-25.69.12-51.37.06-77.06.07a11.06,11.06,0,0,1-6.15-1.27,7.32,7.32,0,0,1-2.55-10.14,18.89,18.89,0,0,1,3-3.5Q77.72,77.85,151.46,4.08c1.46-1.46,3.11-2.73,4.68-4.08Z"/></g></g></svg>
                                    <span style="margin-left: 15px; margin-right: 15px;">{{post.vote_difference}}</span>
                                </button>
                            {% else %}
                                <button type="button" class="btn btn-outline-info upvote" data-object_id={{post.id}} data-object_type="post">   
                                    <svg width="1.5em" height="1.5em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 327.98 373.05"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 3</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M223,373.05H223q-36.53,0-73.06,0H122c-5.52,0-11,0-16.56,0-9.55,0-14.6-5.1-14.6-14.72q0-34,0-67.95V244.12c0-22.16,0-45.06.09-67.61-17.82.08-35.91.07-53.41.07H14.71a15.66,15.66,0,0,1-8.72-2,12.35,12.35,0,0,1-4.2-17,23.88,23.88,0,0,1,3.69-4.46Q79.18,79.32,152.91,5.54c1.16-1.16,2.35-2.15,3.51-3.11l1.44-1.21L159.27,0h8.27l1.22.76a43,43,0,0,1,7.56,6.45l.46.46q72.79,72.71,145.61,145.39c2.47,2.46,6.6,6.59,5.36,13-1.29,6.66-6.44,10.47-14.14,10.48q-25.65,0-51.3,0H244.36c-.87,0-1.74,0-2.6,0-1.45,0-2.92.07-4.43,0,0,.13,0,.26,0,.39v28.86q0,75.78,0,151.55c0,.28,0,.56,0,.84,0,2.64.08,6.26-2.52,9.66C231.33,372.46,226.69,373.05,223,373.05Zm-52.4-10q26.19,0,52.36,0h0c2.71,0,3.3-.49,3.83-1.19s.49-1.51.47-3.46c0-.33,0-.65,0-1q0-75.76,0-151.53V177c0-.29,0-.58,0-.87s0-.37,0-.56c-.44-2.86.14-5.21,1.74-6.91s3.91-2.43,6.86-2.14a48.94,48.94,0,0,0,5.59.07c.94,0,1.88,0,2.82,0h17.95q25.65,0,51.29,0c3.87,0,4.13-1.32,4.33-2.37s-.18-1.64-2.61-4.07Q242.51,87.46,169.71,14.74l-.46-.46A43.61,43.61,0,0,0,164.56,10H163l-.15.12c-1,.85-2,1.66-2.82,2.49Q86.25,86.38,12.56,160.2a15,15,0,0,0-2.2,2.55,2.34,2.34,0,0,0,.9,3.31,6.56,6.56,0,0,0,3.51.52H37.51c17.8,0,36.2,0,54.3-.08,1.49,0,4.59,0,6.85,2.25,2,2,2.26,4.8,2.25,6.69-.12,22.89-.11,46.17-.09,68.68v46.24q0,34,0,67.94c0,4.11.6,4.72,4.61,4.73h65.18Z"/><path class="cls-1" d="M223,373.05H223q-36.53,0-73.06,0H122c-5.52,0-11,0-16.56,0-9.55,0-14.6-5.1-14.6-14.72q0-34,0-67.95V244.12c0-22.16,0-45.06.09-67.61-17.82.08-35.91.07-53.41.07H14.71a15.66,15.66,0,0,1-8.72-2,12.35,12.35,0,0,1-4.2-17,23.88,23.88,0,0,1,3.69-4.46Q79.18,79.32,152.91,5.54c1.16-1.16,2.35-2.15,3.51-3.11l1.44-1.21L159.27,0h8.27l1.22.76a43,43,0,0,1,7.56,6.45l.46.46q72.79,72.71,145.61,145.39c2.47,2.46,6.6,6.59,5.36,13-1.29,6.66-6.44,10.47-14.14,10.48q-25.65,0-51.3,0H244.36c-.87,0-1.74,0-2.6,0-1.45,0-2.92.07-4.43,0,0,.13,0,.26,0,.39v28.86q0,75.78,0,151.55c0,.28,0,.56,0,.84,0,2.64.08,6.26-2.52,9.66C231.33,372.46,226.69,373.05,223,373.05Zm-52.4-10q26.19,0,52.36,0h0c2.71,0,3.3-.49,3.83-1.19s.49-1.51.47-3.46c0-.33,0-.65,0-1q0-75.76,0-151.53V177c0-.29,0-.58,0-.87s0-.37,0-.56c-.44-2.86.14-5.21,1.74-6.91s3.91-2.43,6.86-2.14a48.94,48.94,0,0,0,5.59.07c.94,0,1.88,0,2.82,0h17.95q25.65,0,51.29,0c3.87,0,4.13-1.32,4.33-2.37s-.18-1.64-2.61-4.07Q242.51,87.46,169.71,14.74l-.46-.46A43.61,43.61,0,0,0,164.56,10H163l-.15.12c-1,.85-2,1.66-2.82,2.49Q86.25,86.38,12.56,160.2a15,15,0,0,0-2.2,2.55,2.34,2.34,0,0,0,.9,3.31,6.56,6.56,0,0,0,3.51.52H37.51c17.8,0,36.2,0,54.3-.08,1.49,0,4.59,0,6.85,2.25,2,2,2.26,4.8,2.25,6.69-.12,22.89-.11,46.17-.09,68.68v46.24q0,34,0,67.94c0,4.11.6,4.72,4.61,4.73h65.18Z"/></g></g></svg>
                                    <span style="margin-left: 15px; margin-right: 15px;">{{ post.vote_difference }}</span>
                                </button>
                            {% endif %}
                            <!-- Downvote Button -->
                            {% if request.user.id in post.downvoted_users %}
                                <button type="button" class="btn btn-info downvote" data-object_id={{post.id}} data-object_type="post">
                                    <svg width="1.5em" height="1.5em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 301.16 370.48"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 2</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M212.75,0c6.3,3.14,8.16,8.22,8.14,15.17-.21,60.38-.12,120.77-.12,181.16,0,9.17,2.83,12,12.07,12,18.44,0,36.88.05,55.32,0,5.48,0,9.61,2,11.95,7,2.18,4.66,1,9.28-3.45,13.69Q228.16,297.52,159.6,366c-6,6-12.17,5.95-18.24-.11Q72.94,297.52,4.53,229.14c-3.95-3.94-5.78-8.36-3.6-13.67s6.56-7.21,12.16-7.18c18.8.09,37.6,0,56.41,0,8.11,0,11-2.91,11-11.12q0-91.11-.07-182.24c0-7,2-12.15,8.65-15Z"/></g></g></svg>
                                </button>
                            {% else %}
                                <button type="button" class="btn btn-outline-info downvote" data-object_id={{post.id}}
                                    data-object_type="post">
                                    <svg width="1.5em" height="1.5em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 311.14 380.52"><defs><style>.cls-1{fill:#010101;}</style></defs><title>Asset 4</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M155.56,380.52c-4.34,0-8.68-2-12.74-6.09q-24.28-24.26-48.55-48.53Q50.14,281.79,6,237.68c-7.36-7.35-6.61-14.45-4.69-19.11S7.7,208.29,18,208.29h.13c14.27.07,28.78.05,42.82,0H74.49c5.31,0,6-.69,6-6.12V163.38c0-47,0-95.61-.08-143.41,0-9.83,3.81-16.23,11.71-19.58L93,0H218.91L220,.52c9.82,4.9,10.93,13.57,10.91,19.66-.16,46.7-.15,94.19-.13,140.11q0,20.52,0,41c0,6.4.59,7,7.07,7h14.85c13.26,0,27,0,40.45,0,9.83,0,14.38,5.35,16.5,9.88,1.77,3.79,3.55,11.35-4.44,19.34q-68.52,68.53-137.06,137C164.15,378.53,159.86,380.52,155.56,380.52ZM18,218.29c-5,0-6.55,2-7.42,4.09s-1.17,4.56,2.5,8.22q44.18,44.1,88.29,88.23l48.54,48.53c4.12,4.11,7.15,4.14,11.18.12q68.55-68.5,137.06-137c4.23-4.23,3-6.9,2.45-8-1-2.14-2.58-4.12-7.31-4.12h-.08c-13.51.06-27.23.05-40.51,0H237.83c-12,0-17.07-5.08-17.07-17q0-20.52,0-41c0-45.93,0-93.42.13-140.14,0-6-1.58-8.48-4.4-10.15H95.14c-3,1.49-4.76,3.88-4.74,10,.11,47.81.09,96.42.08,143.43V202.2c0,11-5.08,16.11-16,16.12H60.93c-14,0-28.58,0-42.87,0Z"/><path class="cls-1" d="M155.56,380.52c-4.34,0-8.68-2-12.74-6.09q-24.28-24.26-48.55-48.53Q50.14,281.79,6,237.68c-7.36-7.35-6.61-14.45-4.69-19.11S7.7,208.29,18,208.29h.13c14.27.07,28.78.05,42.82,0H74.49c5.31,0,6-.69,6-6.12V163.38c0-47,0-95.61-.08-143.41,0-9.83,3.81-16.23,11.71-19.58L93,0H218.91L220,.52c9.82,4.9,10.93,13.57,10.91,19.66-.16,46.7-.15,94.19-.13,140.11q0,20.52,0,41c0,6.4.59,7,7.07,7h14.85c13.26,0,27,0,40.45,0,9.83,0,14.38,5.35,16.5,9.88,1.77,3.79,3.55,11.35-4.44,19.34q-68.52,68.53-137.06,137C164.15,378.53,159.86,380.52,155.56,380.52ZM18,218.29c-5,0-6.55,2-7.42,4.09s-1.17,4.56,2.5,8.22q44.18,44.1,88.29,88.23l48.54,48.53c4.12,4.11,7.15,4.14,11.18.12q68.55-68.5,137.06-137c4.23-4.23,3-6.9,2.45-8-1-2.14-2.58-4.12-7.31-4.12h-.08c-13.51.06-27.23.05-40.51,0H237.83c-12,0-17.07-5.08-17.07-17q0-20.52,0-41c0-45.93,0-93.42.13-140.14,0-6-1.58-8.48-4.4-10.15H95.14c-3,1.49-4.76,3.88-4.74,10,.11,47.81.09,96.42.08,143.43V202.2c0,11-5.08,16.11-16,16.12H60.93c-14,0-28.58,0-42.87,0Z"/></g></g></svg>
                                </button>
                            {% endif %}
                        </span>

                        <!-- Comment Button -->
                        <span>
                            <a href="{{post.get_absolute_url}}" style="color: #41B3C5; margin-left: 15px;">
                                {{ post.get_comments.count }} comment{{ post.get_comments.count|pluralize }}
                            </a>
                        </span>
                    {% endif %}

                    <div class="confirm-delete-form" style="display: none;">
                        <form
                            action="{% url 'django_forum_app:delete-post' forum_slug=post.topic.forum.slug topic_id=post.topic.id pk=post.id %}"
                            method="POST" style="margin:15px">
                            {% csrf_token %}
                            <p>Are you sure you want to delete this post?
                                <button type="submit" class="btn btn-danger" style="margin-left:5px">Delete</button>
                            </p>
                        </form>
                    </div>
                </span>
            </div>
        {% endif %}
    {% endfor %}
</div>

<!-- Next/Prev page links  -->
{% if posts and posts.paginator.num_pages > 1 %}
    <div class="pagination">
        <span class="step-links">
            {% if posts.has_previous %}
            <a href="?page={{ posts.previous_page_number }}">{% trans 'previous &lt;&lt;' %} </a>
            {% endif %}

            <span class="current">
                &nbsp;{% trans 'Page' %} {{ posts.number }} of {{ posts.paginator.num_pages }}
            </span>

            {% if posts.has_next %}
            <a href="?page={{ posts.next_page_number }}"> {% trans '&gt;&gt; next' %}</a>
            {% endif %}
        </span>
    </div>
{% endif %}

{% endblock %}